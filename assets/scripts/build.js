!function(t){function e(n){if(a[n])return a[n].exports;var i=a[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}([function(t,e,a){"use strict";a(1),a(2),a(3),a(4)},function(t,e){!function(){"use strict";function t(){var t,e=new XMLHttpRequest;return e.open("GET","playtime.json",!1),e.send(),200==e.status?t=JSON.parse(e.responseText):void console.log(e.status+":"+e.statusText)}function e(t,e){function a(t){t.strokeStyle="rgba(0,0,0,.5)",t.beginPath(),n(t,0,0,54),t.scale(1,1),t.stroke(),t.restore()}function n(t,e,a,n){return t.arc(e,a,n,0,s*(2*Math.PI),!1),t}var i=new Date,o=i-t,s=o/(1e3*e),r=document.getElementById("progress-bar"),l=r.getContext("2d");l.save(),l.clearRect(0,0,140,140),l.translate(70,70),l.rotate(-Math.PI/2),l.lineWidth=32,l.lineCap="round",a(l),r.style.position="absolute",r.style.top="50px",r.style.left="50%",r.style.marginLeft="-70px"}var a=new Date;console.log(+a);var n=t();setInterval(function(){e(n.serverTime,n.length)},66)}()},function(t,e){!function(){"use strict";function t(){o=new Date,s=o.getHours(),r=o.getMinutes(),l=o.getSeconds(),u=o.getTimezoneOffset(),c=s+(u+180)/60}function e(){d=s%2?f.indexOf(s):f.indexOf(s-1)}function a(){m[d].classList.toggle("programs__row-active")}function n(){p=s%2?1e3*(60-l)+60*(119-r)*1e3:1e3*(60-l)+60*(59-r)*1e3}function i(o){setTimeout(function(){a(),t(),e(),a(),n(),i(p)},o)}var o,s,r,l,u,c,p,d,f=["day",5,7,9,11,13,15,17,19,21,23,1,3],m=document.getElementsByClassName("programs__row");t(),e(),a(),n(),i(p)}()},function(t,e){"use strict";window.volumeSlider=function(t){var e,a,n=!1,i=0,o=0,s=function(t){n=!0;var i=r(t);return e=i.y,console.log($(this).offset().top,$(this).parent().offset().top),a=$(this).offset().top-$(this).parent().offset().top,l(t),!1},r=function(t){var e=0,a=0;if(!t)var t=window.event;return t.pageX||t.pageY?(e=t.pageX,a=t.pageY):(t.clientX||t.clientY)&&(e=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:e,y:a}},l=function(n){var s=r(n),l=s.y-e,u=a+l,c=t.container.height()-t.point.height();u=Math.max(0,u),u=Math.min(u,c),i=Math.round(u/c*100,0),o=c-u+t.point.height()/2,t.point.css("top",u),t.fill.css("height",o),t.tooltip.html(100-i),t.callback(100-i)},u=function(t){return n?(l(t),!1):void 0},c=function(e){n=!1,t.point.removeClass("moving")};t.point.bind("mousedown",s),$(document).mousemove(function(e){u(e),n&&t.point.addClass("moving")}),$(document).mouseup(function(t){c(t)})}},function(t,e){$(document).ready(function(){$("#play").css({backgroundSize:"cover"}),/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&$("body").addClass("is_mobile");var t=$(".player__bitrate-active > .player__bitrate-name"),t={channel:t.data("channel"),source:t.attr("rel")};window.currentVolume=.75,initPlayer(t.channel,t.source),volumeSlider({container:$("#volume .equalizer__container-line"),point:$("#volume .equalizer__container-point"),tooltip:$("#volume .player__volume-size"),fill:$("#volume .equalizer__container-bg"),callback:function(t){window.currentVolume=t/100,changeVolume(t)}}),$("#play").click(function(){$(this).hasClass("pause")?(buttonPlay(!1),$("#jplayer").jPlayer("stop")):(buttonPlay(!0),$("#jplayer").jPlayer("play")),updateStatus()}),updateStatus(),
//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
setInterval(function(){updateStatus()},3e3),$("#player-bitrate .player__bitrate-name").click(function(){if(!$(this).parent().hasClass(".player__bitrate-active")){var t=$("#player-bitrate"),e=t.find(".player__bitrate-active"),a=parseInt($(this).prop("rel")),n=$(this).data("channel"),i=parseInt(e.children("a").prop("rel")),o=$("#jplayer"),s=$("#play"),r=s.hasClass("pause");animateBitrate($("#equalizer ."+i+"k"),a,a>i?"up":"down"),e.removeClass("player__bitrate-active"),$(this).parent().addClass("player__bitrate-active"),r&&(o.jPlayer("stop"),s.removeClass("pause")),o.jPlayer("destroy"),initPlayer(n,a),r&&setTimeout(function(){s.addClass("pause"),$("#jplayer").jPlayer("play")},250)}}),$("#tabs .menu__list-item").click(function(){if(!$(this).hasClass("active")){var t=$(this).index();$("#tabs .menu__list-item.active").removeClass("active"),$(this).addClass("active"),$("#tabs_content > .active").removeClass("active").slideUp(),$($("#tabs_content > div")[t]).addClass("active").slideDown()}}),$(window).bind("resize",function(){$("body").css("width",$(document).width())})}),animateBitrate=function(t,e,a){var n,i="up"===a,o=i?0:"-20px";n="up"===a?t.next():t.prev(),i||t.addClass("disabled"),t.find("div:first > b").stop().animate({left:o},100),t.find("div:last").stop().animate({left:o},100,function(){i&&t.removeClass("disabled"),t.hasClass(e+"k")||!i&&t.prev().hasClass(e+"k")||animateBitrate(n,e,a)})},initPlayer=function(t,e){$("#jplayer").jPlayer({volume:window.currentVolume,ready:function(){$(this).jPlayer("setMedia",{oga:"http://89.223.45.5:8000/"+t+"-"+e})},swfPath:"images",supplied:"oga"})},changeVolume=function(t){$("#jplayer").jPlayer("option","volume",window.currentVolume)},updateStatus=function(){$.get("/nowplaying-"+$("#track-loader").data("channel")+".txt?"+Date.now(),function(t){$("#track-loader").html(t)})},buttonPlay=function(t){$("#play").stop().animate({width:"70px",height:"70px",top:"5px",left:"5px"},50,function(){t?$(this).addClass("pause"):$(this).removeClass("pause"),$(this).stop().animate({width:"80px",height:"80px",top:0,left:0},70,"easeOutCirc")})}}]);
//# sourceMappingURL=build.js.map